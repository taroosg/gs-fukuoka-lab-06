# ファイルアップロードの流れ

## ファイルアップロード

Webアプリケーションでは，ユーザが撮影した画像や動画などを送信して共有する場面が多々存在する．

しかし，これまで扱ってきたデータベースにはテキストデータしか保存することができないため，上記のような場合には別の方法が必要となる．

（画像をテキスト形式に変換してデータベースに保存する方法もあるが，容量の大きなデータには向かない．）

このような場合には，ファイル自体をサーバへ送信して指定したディレクトリに保存する，という方法をとる必要がある．


## ファイルアップロードの流れ

ファイルをサーバへ送信する際の流れは決まっている．

1. フォーム（`<form>`）からアップロードする．
2. tmp領域（一時保存場所）に自動的に保存される．
3. サーバの保存領域に移動（今回は「`upload`」ディレクトリとする）


## ⚠️ MacOSの場合は権限の設定が必要

（WindowsOSの場合は設定不要）

- 初期状態ではPHPからファイルを操作する権限が付与されていない．
- 以下の手順で権限を設定する．

1. 「htdocsに入れた講義フォルダ」で
2. メニュー表示 => 情報を見る => 共有とアクセス権
3. 全て「読み/書き」に変更 => 歯車ボタン => 内包している項目に適用

